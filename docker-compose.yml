services:
  dnslog:
    container_name: dnslog-server-container
    image: bur0y37rch/dnslog-server:latest
    ports:
      - "${HTTP_PORT}:80"
      - "53:53/udp"
    volumes:
      - ./web:/var/www/dnslog/web
      - ./data:/var/www/dnslog/data
      - ./nginx.conf:/etc/nginx/nginx.conf   # âœ… æ˜ å°„ Nginx é…ç½®
    restart: always
    networks:
      - dnslog-network
    cap_add:
      - NET_ADMIN
      - NET_BIND_SERVICE
    command: ["/bin/sh", "/start.sh"]
    env_file:
      - .env
networks:
  dnslog-network:         # ğŸ‘ˆ è¿™æ®µå¿…é¡»å®šä¹‰ï¼Œå¦åˆ™å°±æŠ¥ undefined network é”™
    driver: bridge     # å¯çœç•¥ï¼Œé»˜è®¤å°±æ˜¯ bridge